# ── Extract: source & HTTP ─────────────────────────────────────────────────
TLC_BASE_URL="https://d37ci6vzurychx.cloudfront.net/trip-data"
SERVER_TIMEOUT=15 # seconds

# ── ETL API ────────────────────────────────────────────────────────────────
API_PORT=7999

# ── Extract: start date ────────────────────────────────────────────────────
START_YEAR=2025
START_MONTH=9
START_DAY=1

# ── Scheduler: extract (monthly) ──────────────────────────────────────────
CRON_DAY=15
CRON_HOUR=3

# ── Scheduler: transform (daily) ──────────────────────────────────────────
TRANSFORM_CRON_HOUR=2
TRANSFORM_CRON_MINUTE=10

# ── Scheduler: load (daily) ───────────────────────────────────────────────
LOAD_CRON_HOUR=3
LOAD_CRON_MINUTE=30

# ── RabbitMQ ──────────────────────────────────────────────────────────────
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_DEFAULT_USER=guest
RABBITMQ_DEFAULT_PASS=guest
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_E_QUEUE=etl.extracted
RABBITMQ_T_QUEUE=etl.transformed
RABBITMQ_L_EXCHANGE=etl.loaded
RABBITMQ_CMD_EXTRACT=etl.cmd.extract
RABBITMQ_LOGS="/dev/null"
RABBITMQ_LOG_LEVEL="none"

# ── Data directories ───────────────────────────────────────────────────────
RAW_DATA_DIR="/data/raw"
PROCESSED_DATA_DIR="/data/processed"
MODELS_DIR="/data/models"
LOG_DIR="logs"

# ── Spark ──────────────────────────────────────────────────────────────────
SPARK_MASTER_URL=spark://spark-master:7077
SPARK_WORKER_MEMORY=4G
SPARK_WORKER_CORES=2

# ── Prometheus Pushgateway ─────────────────────────────────────────────────
PUSHGATEWAY_URL=http://pushgateway:9091

# ── Grafana ────────────────────────────────────────────────────────────────
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=admin

# ── PostgreSQL ─────────────────────────────────────────────────────────────
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=nyc_taxi
POSTGRES_USER=nyc
POSTGRES_PASSWORD=nyc

# ── Redis ──────────────────────────────────────────────────────────────────
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_TRACKING_ROOT="spark"
REDIS_PROCESSED_SET="processed_files"
REDIS_LOADED_FLAG="loaded_flag"
REDIS_LOADED_DIRS_HASH="loaded_dirs"
REDIS_MODEL_ROOT="model"
REDIS_FARE_MODEL_KEY="fare"